/**
 * Copyright (c) 2018. paascloud.net All Rights Reserved.
 * ?????paascloud???????????????
 * ????OptSmsServiceTest.java
 * ???????
 * ?????paascloud.net@gmail.com
 * ????: https://github.com/paascloud
 * ????: http://blog.paascloud.net
 * ????: http://paascloud.net
 */
package com.paascloud.provider.aliyun;


import com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest;
import com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse;
import com.paascloud.provider.PaasCloudOmcApplicationTests;
import com.paascloud.provider.service.OptSmsService;
import javax.annotation.Resource;
import org.junit.Test;


public class OptSmsServiceTest extends PaasCloudOmcApplicationTests {
    @Resource
    private OptSmsService optSmsService;

    @Test
    public void sendMessageProducerTest() throws InterruptedException {
        SendSmsRequest request = new SendSmsRequest();
        // ??:??????
        request.setPhoneNumbers("13718891700");
        // ??:????-??????????
        request.setSignName("?????");
        // ??:????-??????????
        request.setTemplateCode("SMS_78725128");
        // ??:????????JSON?,??????"???${name},??????${code}"?,?????
        request.setTemplateParam("{\"code\":\"963852\"}");
        // ??-???????(?????????????)
        // request.setSmsUpExtendCode("90997");
        // ??:outId???????????,???????????????????
        request.setOutId("yourOutId");
        SendSmsResponse sendSmsResponse = optSmsService.sendSms(request);
        logger.info("?? ???? sendSmsResponse={}", sendSmsResponse);
    }
}

